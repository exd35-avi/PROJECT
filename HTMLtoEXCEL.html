<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <table>
      <tbody>
        <tr>
          <th>ID</th>
          <th>NAME</th>
          <th>EMAIL</th>
        </tr>
        <tr>
          <td>1</td>
          <td>asder</td>
          <td>avi1@gmail.com</td>
        </tr>
        <tr>
          <td>2</td>
          <td>fghtyui</td>
          <td>avi@gmail.com</td>
        </tr>
        <tr>
          <td>3</td>
          <td>uiop</td>
          <td>avi3@gmail.com</td>
        </tr>
      </tbody>
    </table>
    <br>
    <button onclick="htmltocsv('userData.csv')">Export</button>
    <script>
      function htmltocsv(filename) {
        var data= [];
        var rows = document.querySelectorAll('table tr');
        for (let index = 0; index < rows.length; index++) {
          var row = [], cols = rows[index].querySelectorAll('td,th');
          for (let j = 0; j < cols.length; j++) {
            row.push(cols[j].innerText);
          }
          data.push(row.join(','));
        }
        downloadCSVfile(data.join("\n"),filename)
      }

      function downloadCSVfile(csv, filename) {
        var csv_file,download_link;
        csv_file = new Blob([csv],{type: 'text/csv'});
        
        download_link = document.createElement('a');
        download_link.download = filename;
        download_link.href = window.URL.createObjectURL(csv_file);
        document.body.appendChild(download_link);
        download_link.click();
      }
    </script>
  </body>
</html>
